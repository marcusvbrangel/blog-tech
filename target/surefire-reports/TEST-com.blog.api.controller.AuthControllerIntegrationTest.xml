<?xml version="1.0" encoding="UTF-8"?>
<testsuite xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="https://maven.apache.org/surefire/maven-surefire-plugin/xsd/surefire-test-report-3.0.xsd" version="3.0" name="com.blog.api.controller.AuthControllerIntegrationTest" time="6.768" tests="9" errors="1" skipped="0" failures="3">
  <properties>
    <property name="java.specification.version" value="21"/>
    <property name="sun.jnu.encoding" value="UTF-8"/>
    <property name="java.class.path" value="/home/base/Documentos/desenvolvimento/claude-estudo/first-project/target/test-classes:/home/base/Documentos/desenvolvimento/claude-estudo/first-project/target/classes:/home/base/.m2/repository/org/springframework/boot/spring-boot-starter-web/3.2.0/spring-boot-starter-web-3.2.0.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-starter/3.2.0/spring-boot-starter-3.2.0.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot/3.2.0/spring-boot-3.2.0.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/3.2.0/spring-boot-autoconfigure-3.2.0.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-starter-logging/3.2.0/spring-boot-starter-logging-3.2.0.jar:/home/base/.m2/repository/ch/qos/logback/logback-classic/1.4.11/logback-classic-1.4.11.jar:/home/base/.m2/repository/ch/qos/logback/logback-core/1.4.11/logback-core-1.4.11.jar:/home/base/.m2/repository/org/apache/logging/log4j/log4j-to-slf4j/2.21.1/log4j-to-slf4j-2.21.1.jar:/home/base/.m2/repository/org/apache/logging/log4j/log4j-api/2.21.1/log4j-api-2.21.1.jar:/home/base/.m2/repository/org/slf4j/jul-to-slf4j/2.0.9/jul-to-slf4j-2.0.9.jar:/home/base/.m2/repository/jakarta/annotation/jakarta.annotation-api/2.1.1/jakarta.annotation-api-2.1.1.jar:/home/base/.m2/repository/org/yaml/snakeyaml/2.2/snakeyaml-2.2.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-starter-json/3.2.0/spring-boot-starter-json-3.2.0.jar:/home/base/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jdk8/2.15.3/jackson-datatype-jdk8-2.15.3.jar:/home/base/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.15.3/jackson-datatype-jsr310-2.15.3.jar:/home/base/.m2/repository/com/fasterxml/jackson/module/jackson-module-parameter-names/2.15.3/jackson-module-parameter-names-2.15.3.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-starter-tomcat/3.2.0/spring-boot-starter-tomcat-3.2.0.jar:/home/base/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/10.1.16/tomcat-embed-core-10.1.16.jar:/home/base/.m2/repository/org/apache/tomcat/embed/tomcat-embed-websocket/10.1.16/tomcat-embed-websocket-10.1.16.jar:/home/base/.m2/repository/org/springframework/spring-web/6.1.1/spring-web-6.1.1.jar:/home/base/.m2/repository/org/springframework/spring-beans/6.1.1/spring-beans-6.1.1.jar:/home/base/.m2/repository/org/springframework/spring-webmvc/6.1.1/spring-webmvc-6.1.1.jar:/home/base/.m2/repository/org/springframework/spring-context/6.1.1/spring-context-6.1.1.jar:/home/base/.m2/repository/org/springframework/spring-expression/6.1.1/spring-expression-6.1.1.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-starter-data-jpa/3.2.0/spring-boot-starter-data-jpa-3.2.0.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-starter-aop/3.2.0/spring-boot-starter-aop-3.2.0.jar:/home/base/.m2/repository/org/aspectj/aspectjweaver/1.9.20.1/aspectjweaver-1.9.20.1.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-starter-jdbc/3.2.0/spring-boot-starter-jdbc-3.2.0.jar:/home/base/.m2/repository/com/zaxxer/HikariCP/5.0.1/HikariCP-5.0.1.jar:/home/base/.m2/repository/org/springframework/spring-jdbc/6.1.1/spring-jdbc-6.1.1.jar:/home/base/.m2/repository/org/hibernate/orm/hibernate-core/6.3.1.Final/hibernate-core-6.3.1.Final.jar:/home/base/.m2/repository/jakarta/persistence/jakarta.persistence-api/3.1.0/jakarta.persistence-api-3.1.0.jar:/home/base/.m2/repository/jakarta/transaction/jakarta.transaction-api/2.0.1/jakarta.transaction-api-2.0.1.jar:/home/base/.m2/repository/org/jboss/logging/jboss-logging/3.5.3.Final/jboss-logging-3.5.3.Final.jar:/home/base/.m2/repository/org/hibernate/common/hibernate-commons-annotations/6.0.6.Final/hibernate-commons-annotations-6.0.6.Final.jar:/home/base/.m2/repository/io/smallrye/jandex/3.1.2/jandex-3.1.2.jar:/home/base/.m2/repository/com/fasterxml/classmate/1.6.0/classmate-1.6.0.jar:/home/base/.m2/repository/net/bytebuddy/byte-buddy/1.14.10/byte-buddy-1.14.10.jar:/home/base/.m2/repository/org/glassfish/jaxb/jaxb-runtime/4.0.4/jaxb-runtime-4.0.4.jar:/home/base/.m2/repository/org/glassfish/jaxb/jaxb-core/4.0.4/jaxb-core-4.0.4.jar:/home/base/.m2/repository/org/glassfish/jaxb/txw2/4.0.4/txw2-4.0.4.jar:/home/base/.m2/repository/com/sun/istack/istack-commons-runtime/4.1.2/istack-commons-runtime-4.1.2.jar:/home/base/.m2/repository/jakarta/inject/jakarta.inject-api/2.0.1/jakarta.inject-api-2.0.1.jar:/home/base/.m2/repository/org/antlr/antlr4-runtime/4.10.1/antlr4-runtime-4.10.1.jar:/home/base/.m2/repository/org/springframework/data/spring-data-jpa/3.2.0/spring-data-jpa-3.2.0.jar:/home/base/.m2/repository/org/springframework/data/spring-data-commons/3.2.0/spring-data-commons-3.2.0.jar:/home/base/.m2/repository/org/springframework/spring-orm/6.1.1/spring-orm-6.1.1.jar:/home/base/.m2/repository/org/springframework/spring-tx/6.1.1/spring-tx-6.1.1.jar:/home/base/.m2/repository/org/springframework/spring-aspects/6.1.1/spring-aspects-6.1.1.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-starter-security/3.2.0/spring-boot-starter-security-3.2.0.jar:/home/base/.m2/repository/org/springframework/spring-aop/6.1.1/spring-aop-6.1.1.jar:/home/base/.m2/repository/org/springframework/security/spring-security-config/6.2.0/spring-security-config-6.2.0.jar:/home/base/.m2/repository/org/springframework/security/spring-security-web/6.2.0/spring-security-web-6.2.0.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-starter-validation/3.2.0/spring-boot-starter-validation-3.2.0.jar:/home/base/.m2/repository/org/apache/tomcat/embed/tomcat-embed-el/10.1.16/tomcat-embed-el-10.1.16.jar:/home/base/.m2/repository/org/hibernate/validator/hibernate-validator/8.0.1.Final/hibernate-validator-8.0.1.Final.jar:/home/base/.m2/repository/jakarta/validation/jakarta.validation-api/3.0.2/jakarta.validation-api-3.0.2.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-starter-actuator/3.2.0/spring-boot-starter-actuator-3.2.0.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-actuator-autoconfigure/3.2.0/spring-boot-actuator-autoconfigure-3.2.0.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-actuator/3.2.0/spring-boot-actuator-3.2.0.jar:/home/base/.m2/repository/io/micrometer/micrometer-observation/1.12.0/micrometer-observation-1.12.0.jar:/home/base/.m2/repository/io/micrometer/micrometer-commons/1.12.0/micrometer-commons-1.12.0.jar:/home/base/.m2/repository/io/micrometer/micrometer-jakarta9/1.12.0/micrometer-jakarta9-1.12.0.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-starter-data-redis/3.2.0/spring-boot-starter-data-redis-3.2.0.jar:/home/base/.m2/repository/io/lettuce/lettuce-core/6.3.0.RELEASE/lettuce-core-6.3.0.RELEASE.jar:/home/base/.m2/repository/io/netty/netty-common/4.1.101.Final/netty-common-4.1.101.Final.jar:/home/base/.m2/repository/io/netty/netty-handler/4.1.101.Final/netty-handler-4.1.101.Final.jar:/home/base/.m2/repository/io/netty/netty-resolver/4.1.101.Final/netty-resolver-4.1.101.Final.jar:/home/base/.m2/repository/io/netty/netty-buffer/4.1.101.Final/netty-buffer-4.1.101.Final.jar:/home/base/.m2/repository/io/netty/netty-transport-native-unix-common/4.1.101.Final/netty-transport-native-unix-common-4.1.101.Final.jar:/home/base/.m2/repository/io/netty/netty-codec/4.1.101.Final/netty-codec-4.1.101.Final.jar:/home/base/.m2/repository/io/netty/netty-transport/4.1.101.Final/netty-transport-4.1.101.Final.jar:/home/base/.m2/repository/io/projectreactor/reactor-core/3.6.0/reactor-core-3.6.0.jar:/home/base/.m2/repository/org/reactivestreams/reactive-streams/1.0.4/reactive-streams-1.0.4.jar:/home/base/.m2/repository/org/springframework/data/spring-data-redis/3.2.0/spring-data-redis-3.2.0.jar:/home/base/.m2/repository/org/springframework/data/spring-data-keyvalue/3.2.0/spring-data-keyvalue-3.2.0.jar:/home/base/.m2/repository/org/springframework/spring-oxm/6.1.1/spring-oxm-6.1.1.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-starter-cache/3.2.0/spring-boot-starter-cache-3.2.0.jar:/home/base/.m2/repository/org/springframework/spring-context-support/6.1.1/spring-context-support-6.1.1.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-starter-mail/3.2.0/spring-boot-starter-mail-3.2.0.jar:/home/base/.m2/repository/org/eclipse/angus/jakarta.mail/2.0.2/jakarta.mail-2.0.2.jar:/home/base/.m2/repository/jakarta/activation/jakarta.activation-api/2.1.2/jakarta.activation-api-2.1.2.jar:/home/base/.m2/repository/org/eclipse/angus/angus-activation/2.0.1/angus-activation-2.0.1.jar:/home/base/.m2/repository/io/micrometer/micrometer-registry-prometheus/1.12.0/micrometer-registry-prometheus-1.12.0.jar:/home/base/.m2/repository/io/micrometer/micrometer-core/1.12.0/micrometer-core-1.12.0.jar:/home/base/.m2/repository/org/hdrhistogram/HdrHistogram/2.1.12/HdrHistogram-2.1.12.jar:/home/base/.m2/repository/org/latencyutils/LatencyUtils/2.0.3/LatencyUtils-2.0.3.jar:/home/base/.m2/repository/io/prometheus/simpleclient_common/0.16.0/simpleclient_common-0.16.0.jar:/home/base/.m2/repository/io/prometheus/simpleclient/0.16.0/simpleclient-0.16.0.jar:/home/base/.m2/repository/io/prometheus/simpleclient_tracer_otel/0.16.0/simpleclient_tracer_otel-0.16.0.jar:/home/base/.m2/repository/io/prometheus/simpleclient_tracer_common/0.16.0/simpleclient_tracer_common-0.16.0.jar:/home/base/.m2/repository/io/prometheus/simpleclient_tracer_otel_agent/0.16.0/simpleclient_tracer_otel_agent-0.16.0.jar:/home/base/.m2/repository/io/micrometer/micrometer-tracing-bridge-brave/1.2.0/micrometer-tracing-bridge-brave-1.2.0.jar:/home/base/.m2/repository/io/micrometer/micrometer-tracing/1.2.0/micrometer-tracing-1.2.0.jar:/home/base/.m2/repository/io/micrometer/context-propagation/1.1.0/context-propagation-1.1.0.jar:/home/base/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar:/home/base/.m2/repository/org/slf4j/slf4j-api/2.0.9/slf4j-api-2.0.9.jar:/home/base/.m2/repository/io/zipkin/brave/brave/5.16.0/brave-5.16.0.jar:/home/base/.m2/repository/io/zipkin/brave/brave-context-slf4j/5.16.0/brave-context-slf4j-5.16.0.jar:/home/base/.m2/repository/io/zipkin/brave/brave-instrumentation-http/5.16.0/brave-instrumentation-http-5.16.0.jar:/home/base/.m2/repository/io/zipkin/aws/brave-propagation-aws/0.23.5/brave-propagation-aws-0.23.5.jar:/home/base/.m2/repository/io/zipkin/reporter2/zipkin-reporter-brave/2.16.3/zipkin-reporter-brave-2.16.3.jar:/home/base/.m2/repository/io/zipkin/reporter2/zipkin-reporter/2.16.3/zipkin-reporter-2.16.3.jar:/home/base/.m2/repository/io/zipkin/zipkin2/zipkin/2.23.2/zipkin-2.23.2.jar:/home/base/.m2/repository/org/postgresql/postgresql/42.6.0/postgresql-42.6.0.jar:/home/base/.m2/repository/org/checkerframework/checker-qual/3.31.0/checker-qual-3.31.0.jar:/home/base/.m2/repository/io/jsonwebtoken/jjwt-api/0.11.5/jjwt-api-0.11.5.jar:/home/base/.m2/repository/io/jsonwebtoken/jjwt-impl/0.11.5/jjwt-impl-0.11.5.jar:/home/base/.m2/repository/io/jsonwebtoken/jjwt-jackson/0.11.5/jjwt-jackson-0.11.5.jar:/home/base/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.15.3/jackson-databind-2.15.3.jar:/home/base/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.15.3/jackson-annotations-2.15.3.jar:/home/base/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.15.3/jackson-core-2.15.3.jar:/home/base/.m2/repository/org/springdoc/springdoc-openapi-starter-webmvc-ui/2.2.0/springdoc-openapi-starter-webmvc-ui-2.2.0.jar:/home/base/.m2/repository/org/springdoc/springdoc-openapi-starter-webmvc-api/2.2.0/springdoc-openapi-starter-webmvc-api-2.2.0.jar:/home/base/.m2/repository/org/springdoc/springdoc-openapi-starter-common/2.2.0/springdoc-openapi-starter-common-2.2.0.jar:/home/base/.m2/repository/io/swagger/core/v3/swagger-core-jakarta/2.2.15/swagger-core-jakarta-2.2.15.jar:/home/base/.m2/repository/org/apache/commons/commons-lang3/3.13.0/commons-lang3-3.13.0.jar:/home/base/.m2/repository/io/swagger/core/v3/swagger-annotations-jakarta/2.2.15/swagger-annotations-jakarta-2.2.15.jar:/home/base/.m2/repository/io/swagger/core/v3/swagger-models-jakarta/2.2.15/swagger-models-jakarta-2.2.15.jar:/home/base/.m2/repository/com/fasterxml/jackson/dataformat/jackson-dataformat-yaml/2.15.3/jackson-dataformat-yaml-2.15.3.jar:/home/base/.m2/repository/org/webjars/swagger-ui/5.2.0/swagger-ui-5.2.0.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-starter-test/3.2.0/spring-boot-starter-test-3.2.0.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-test/3.2.0/spring-boot-test-3.2.0.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-test-autoconfigure/3.2.0/spring-boot-test-autoconfigure-3.2.0.jar:/home/base/.m2/repository/com/jayway/jsonpath/json-path/2.8.0/json-path-2.8.0.jar:/home/base/.m2/repository/jakarta/xml/bind/jakarta.xml.bind-api/4.0.1/jakarta.xml.bind-api-4.0.1.jar:/home/base/.m2/repository/net/minidev/json-smart/2.5.0/json-smart-2.5.0.jar:/home/base/.m2/repository/net/minidev/accessors-smart/2.5.0/accessors-smart-2.5.0.jar:/home/base/.m2/repository/org/ow2/asm/asm/9.3/asm-9.3.jar:/home/base/.m2/repository/org/assertj/assertj-core/3.24.2/assertj-core-3.24.2.jar:/home/base/.m2/repository/org/awaitility/awaitility/4.2.0/awaitility-4.2.0.jar:/home/base/.m2/repository/org/hamcrest/hamcrest/2.2/hamcrest-2.2.jar:/home/base/.m2/repository/org/junit/jupiter/junit-jupiter/5.10.1/junit-jupiter-5.10.1.jar:/home/base/.m2/repository/org/junit/jupiter/junit-jupiter-api/5.10.1/junit-jupiter-api-5.10.1.jar:/home/base/.m2/repository/org/opentest4j/opentest4j/1.3.0/opentest4j-1.3.0.jar:/home/base/.m2/repository/org/junit/platform/junit-platform-commons/1.10.1/junit-platform-commons-1.10.1.jar:/home/base/.m2/repository/org/apiguardian/apiguardian-api/1.1.2/apiguardian-api-1.1.2.jar:/home/base/.m2/repository/org/junit/jupiter/junit-jupiter-params/5.10.1/junit-jupiter-params-5.10.1.jar:/home/base/.m2/repository/org/junit/jupiter/junit-jupiter-engine/5.10.1/junit-jupiter-engine-5.10.1.jar:/home/base/.m2/repository/org/junit/platform/junit-platform-engine/1.10.1/junit-platform-engine-1.10.1.jar:/home/base/.m2/repository/org/mockito/mockito-core/5.7.0/mockito-core-5.7.0.jar:/home/base/.m2/repository/net/bytebuddy/byte-buddy-agent/1.14.10/byte-buddy-agent-1.14.10.jar:/home/base/.m2/repository/org/objenesis/objenesis/3.3/objenesis-3.3.jar:/home/base/.m2/repository/org/mockito/mockito-junit-jupiter/5.7.0/mockito-junit-jupiter-5.7.0.jar:/home/base/.m2/repository/org/skyscreamer/jsonassert/1.5.1/jsonassert-1.5.1.jar:/home/base/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar:/home/base/.m2/repository/org/springframework/spring-core/6.1.1/spring-core-6.1.1.jar:/home/base/.m2/repository/org/springframework/spring-jcl/6.1.1/spring-jcl-6.1.1.jar:/home/base/.m2/repository/org/springframework/spring-test/6.1.1/spring-test-6.1.1.jar:/home/base/.m2/repository/org/xmlunit/xmlunit-core/2.9.1/xmlunit-core-2.9.1.jar:/home/base/.m2/repository/org/springframework/security/spring-security-test/6.2.0/spring-security-test-6.2.0.jar:/home/base/.m2/repository/org/springframework/security/spring-security-core/6.2.0/spring-security-core-6.2.0.jar:/home/base/.m2/repository/org/springframework/security/spring-security-crypto/6.2.0/spring-security-crypto-6.2.0.jar:/home/base/.m2/repository/com/h2database/h2/2.2.224/h2-2.2.224.jar:"/>
    <property name="java.vm.vendor" value="Eclipse Adoptium"/>
    <property name="sun.arch.data.model" value="64"/>
    <property name="java.vendor.url" value="https://adoptium.net/"/>
    <property name="catalina.useNaming" value="false"/>
    <property name="user.timezone" value="America/Sao_Paulo"/>
    <property name="org.jboss.logging.provider" value="slf4j"/>
    <property name="os.name" value="Linux"/>
    <property name="java.vm.specification.version" value="21"/>
    <property name="sun.java.launcher" value="SUN_STANDARD"/>
    <property name="user.country" value="BR"/>
    <property name="sun.boot.library.path" value="/home/base/.sdkman/candidates/java/21.0.7-tem/lib"/>
    <property name="sun.java.command" value="/home/base/Documentos/desenvolvimento/claude-estudo/first-project/target/surefire/surefirebooter-20250804012212641_3.jar /home/base/Documentos/desenvolvimento/claude-estudo/first-project/target/surefire 2025-08-04T01-22-12_533-jvmRun1 surefire-20250804012212641_1tmp surefire_0-20250804012212641_2tmp"/>
    <property name="jdk.debug" value="release"/>
    <property name="surefire.test.class.path" value="/home/base/Documentos/desenvolvimento/claude-estudo/first-project/target/test-classes:/home/base/Documentos/desenvolvimento/claude-estudo/first-project/target/classes:/home/base/.m2/repository/org/springframework/boot/spring-boot-starter-web/3.2.0/spring-boot-starter-web-3.2.0.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-starter/3.2.0/spring-boot-starter-3.2.0.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot/3.2.0/spring-boot-3.2.0.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/3.2.0/spring-boot-autoconfigure-3.2.0.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-starter-logging/3.2.0/spring-boot-starter-logging-3.2.0.jar:/home/base/.m2/repository/ch/qos/logback/logback-classic/1.4.11/logback-classic-1.4.11.jar:/home/base/.m2/repository/ch/qos/logback/logback-core/1.4.11/logback-core-1.4.11.jar:/home/base/.m2/repository/org/apache/logging/log4j/log4j-to-slf4j/2.21.1/log4j-to-slf4j-2.21.1.jar:/home/base/.m2/repository/org/apache/logging/log4j/log4j-api/2.21.1/log4j-api-2.21.1.jar:/home/base/.m2/repository/org/slf4j/jul-to-slf4j/2.0.9/jul-to-slf4j-2.0.9.jar:/home/base/.m2/repository/jakarta/annotation/jakarta.annotation-api/2.1.1/jakarta.annotation-api-2.1.1.jar:/home/base/.m2/repository/org/yaml/snakeyaml/2.2/snakeyaml-2.2.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-starter-json/3.2.0/spring-boot-starter-json-3.2.0.jar:/home/base/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jdk8/2.15.3/jackson-datatype-jdk8-2.15.3.jar:/home/base/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.15.3/jackson-datatype-jsr310-2.15.3.jar:/home/base/.m2/repository/com/fasterxml/jackson/module/jackson-module-parameter-names/2.15.3/jackson-module-parameter-names-2.15.3.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-starter-tomcat/3.2.0/spring-boot-starter-tomcat-3.2.0.jar:/home/base/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/10.1.16/tomcat-embed-core-10.1.16.jar:/home/base/.m2/repository/org/apache/tomcat/embed/tomcat-embed-websocket/10.1.16/tomcat-embed-websocket-10.1.16.jar:/home/base/.m2/repository/org/springframework/spring-web/6.1.1/spring-web-6.1.1.jar:/home/base/.m2/repository/org/springframework/spring-beans/6.1.1/spring-beans-6.1.1.jar:/home/base/.m2/repository/org/springframework/spring-webmvc/6.1.1/spring-webmvc-6.1.1.jar:/home/base/.m2/repository/org/springframework/spring-context/6.1.1/spring-context-6.1.1.jar:/home/base/.m2/repository/org/springframework/spring-expression/6.1.1/spring-expression-6.1.1.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-starter-data-jpa/3.2.0/spring-boot-starter-data-jpa-3.2.0.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-starter-aop/3.2.0/spring-boot-starter-aop-3.2.0.jar:/home/base/.m2/repository/org/aspectj/aspectjweaver/1.9.20.1/aspectjweaver-1.9.20.1.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-starter-jdbc/3.2.0/spring-boot-starter-jdbc-3.2.0.jar:/home/base/.m2/repository/com/zaxxer/HikariCP/5.0.1/HikariCP-5.0.1.jar:/home/base/.m2/repository/org/springframework/spring-jdbc/6.1.1/spring-jdbc-6.1.1.jar:/home/base/.m2/repository/org/hibernate/orm/hibernate-core/6.3.1.Final/hibernate-core-6.3.1.Final.jar:/home/base/.m2/repository/jakarta/persistence/jakarta.persistence-api/3.1.0/jakarta.persistence-api-3.1.0.jar:/home/base/.m2/repository/jakarta/transaction/jakarta.transaction-api/2.0.1/jakarta.transaction-api-2.0.1.jar:/home/base/.m2/repository/org/jboss/logging/jboss-logging/3.5.3.Final/jboss-logging-3.5.3.Final.jar:/home/base/.m2/repository/org/hibernate/common/hibernate-commons-annotations/6.0.6.Final/hibernate-commons-annotations-6.0.6.Final.jar:/home/base/.m2/repository/io/smallrye/jandex/3.1.2/jandex-3.1.2.jar:/home/base/.m2/repository/com/fasterxml/classmate/1.6.0/classmate-1.6.0.jar:/home/base/.m2/repository/net/bytebuddy/byte-buddy/1.14.10/byte-buddy-1.14.10.jar:/home/base/.m2/repository/org/glassfish/jaxb/jaxb-runtime/4.0.4/jaxb-runtime-4.0.4.jar:/home/base/.m2/repository/org/glassfish/jaxb/jaxb-core/4.0.4/jaxb-core-4.0.4.jar:/home/base/.m2/repository/org/glassfish/jaxb/txw2/4.0.4/txw2-4.0.4.jar:/home/base/.m2/repository/com/sun/istack/istack-commons-runtime/4.1.2/istack-commons-runtime-4.1.2.jar:/home/base/.m2/repository/jakarta/inject/jakarta.inject-api/2.0.1/jakarta.inject-api-2.0.1.jar:/home/base/.m2/repository/org/antlr/antlr4-runtime/4.10.1/antlr4-runtime-4.10.1.jar:/home/base/.m2/repository/org/springframework/data/spring-data-jpa/3.2.0/spring-data-jpa-3.2.0.jar:/home/base/.m2/repository/org/springframework/data/spring-data-commons/3.2.0/spring-data-commons-3.2.0.jar:/home/base/.m2/repository/org/springframework/spring-orm/6.1.1/spring-orm-6.1.1.jar:/home/base/.m2/repository/org/springframework/spring-tx/6.1.1/spring-tx-6.1.1.jar:/home/base/.m2/repository/org/springframework/spring-aspects/6.1.1/spring-aspects-6.1.1.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-starter-security/3.2.0/spring-boot-starter-security-3.2.0.jar:/home/base/.m2/repository/org/springframework/spring-aop/6.1.1/spring-aop-6.1.1.jar:/home/base/.m2/repository/org/springframework/security/spring-security-config/6.2.0/spring-security-config-6.2.0.jar:/home/base/.m2/repository/org/springframework/security/spring-security-web/6.2.0/spring-security-web-6.2.0.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-starter-validation/3.2.0/spring-boot-starter-validation-3.2.0.jar:/home/base/.m2/repository/org/apache/tomcat/embed/tomcat-embed-el/10.1.16/tomcat-embed-el-10.1.16.jar:/home/base/.m2/repository/org/hibernate/validator/hibernate-validator/8.0.1.Final/hibernate-validator-8.0.1.Final.jar:/home/base/.m2/repository/jakarta/validation/jakarta.validation-api/3.0.2/jakarta.validation-api-3.0.2.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-starter-actuator/3.2.0/spring-boot-starter-actuator-3.2.0.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-actuator-autoconfigure/3.2.0/spring-boot-actuator-autoconfigure-3.2.0.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-actuator/3.2.0/spring-boot-actuator-3.2.0.jar:/home/base/.m2/repository/io/micrometer/micrometer-observation/1.12.0/micrometer-observation-1.12.0.jar:/home/base/.m2/repository/io/micrometer/micrometer-commons/1.12.0/micrometer-commons-1.12.0.jar:/home/base/.m2/repository/io/micrometer/micrometer-jakarta9/1.12.0/micrometer-jakarta9-1.12.0.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-starter-data-redis/3.2.0/spring-boot-starter-data-redis-3.2.0.jar:/home/base/.m2/repository/io/lettuce/lettuce-core/6.3.0.RELEASE/lettuce-core-6.3.0.RELEASE.jar:/home/base/.m2/repository/io/netty/netty-common/4.1.101.Final/netty-common-4.1.101.Final.jar:/home/base/.m2/repository/io/netty/netty-handler/4.1.101.Final/netty-handler-4.1.101.Final.jar:/home/base/.m2/repository/io/netty/netty-resolver/4.1.101.Final/netty-resolver-4.1.101.Final.jar:/home/base/.m2/repository/io/netty/netty-buffer/4.1.101.Final/netty-buffer-4.1.101.Final.jar:/home/base/.m2/repository/io/netty/netty-transport-native-unix-common/4.1.101.Final/netty-transport-native-unix-common-4.1.101.Final.jar:/home/base/.m2/repository/io/netty/netty-codec/4.1.101.Final/netty-codec-4.1.101.Final.jar:/home/base/.m2/repository/io/netty/netty-transport/4.1.101.Final/netty-transport-4.1.101.Final.jar:/home/base/.m2/repository/io/projectreactor/reactor-core/3.6.0/reactor-core-3.6.0.jar:/home/base/.m2/repository/org/reactivestreams/reactive-streams/1.0.4/reactive-streams-1.0.4.jar:/home/base/.m2/repository/org/springframework/data/spring-data-redis/3.2.0/spring-data-redis-3.2.0.jar:/home/base/.m2/repository/org/springframework/data/spring-data-keyvalue/3.2.0/spring-data-keyvalue-3.2.0.jar:/home/base/.m2/repository/org/springframework/spring-oxm/6.1.1/spring-oxm-6.1.1.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-starter-cache/3.2.0/spring-boot-starter-cache-3.2.0.jar:/home/base/.m2/repository/org/springframework/spring-context-support/6.1.1/spring-context-support-6.1.1.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-starter-mail/3.2.0/spring-boot-starter-mail-3.2.0.jar:/home/base/.m2/repository/org/eclipse/angus/jakarta.mail/2.0.2/jakarta.mail-2.0.2.jar:/home/base/.m2/repository/jakarta/activation/jakarta.activation-api/2.1.2/jakarta.activation-api-2.1.2.jar:/home/base/.m2/repository/org/eclipse/angus/angus-activation/2.0.1/angus-activation-2.0.1.jar:/home/base/.m2/repository/io/micrometer/micrometer-registry-prometheus/1.12.0/micrometer-registry-prometheus-1.12.0.jar:/home/base/.m2/repository/io/micrometer/micrometer-core/1.12.0/micrometer-core-1.12.0.jar:/home/base/.m2/repository/org/hdrhistogram/HdrHistogram/2.1.12/HdrHistogram-2.1.12.jar:/home/base/.m2/repository/org/latencyutils/LatencyUtils/2.0.3/LatencyUtils-2.0.3.jar:/home/base/.m2/repository/io/prometheus/simpleclient_common/0.16.0/simpleclient_common-0.16.0.jar:/home/base/.m2/repository/io/prometheus/simpleclient/0.16.0/simpleclient-0.16.0.jar:/home/base/.m2/repository/io/prometheus/simpleclient_tracer_otel/0.16.0/simpleclient_tracer_otel-0.16.0.jar:/home/base/.m2/repository/io/prometheus/simpleclient_tracer_common/0.16.0/simpleclient_tracer_common-0.16.0.jar:/home/base/.m2/repository/io/prometheus/simpleclient_tracer_otel_agent/0.16.0/simpleclient_tracer_otel_agent-0.16.0.jar:/home/base/.m2/repository/io/micrometer/micrometer-tracing-bridge-brave/1.2.0/micrometer-tracing-bridge-brave-1.2.0.jar:/home/base/.m2/repository/io/micrometer/micrometer-tracing/1.2.0/micrometer-tracing-1.2.0.jar:/home/base/.m2/repository/io/micrometer/context-propagation/1.1.0/context-propagation-1.1.0.jar:/home/base/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar:/home/base/.m2/repository/org/slf4j/slf4j-api/2.0.9/slf4j-api-2.0.9.jar:/home/base/.m2/repository/io/zipkin/brave/brave/5.16.0/brave-5.16.0.jar:/home/base/.m2/repository/io/zipkin/brave/brave-context-slf4j/5.16.0/brave-context-slf4j-5.16.0.jar:/home/base/.m2/repository/io/zipkin/brave/brave-instrumentation-http/5.16.0/brave-instrumentation-http-5.16.0.jar:/home/base/.m2/repository/io/zipkin/aws/brave-propagation-aws/0.23.5/brave-propagation-aws-0.23.5.jar:/home/base/.m2/repository/io/zipkin/reporter2/zipkin-reporter-brave/2.16.3/zipkin-reporter-brave-2.16.3.jar:/home/base/.m2/repository/io/zipkin/reporter2/zipkin-reporter/2.16.3/zipkin-reporter-2.16.3.jar:/home/base/.m2/repository/io/zipkin/zipkin2/zipkin/2.23.2/zipkin-2.23.2.jar:/home/base/.m2/repository/org/postgresql/postgresql/42.6.0/postgresql-42.6.0.jar:/home/base/.m2/repository/org/checkerframework/checker-qual/3.31.0/checker-qual-3.31.0.jar:/home/base/.m2/repository/io/jsonwebtoken/jjwt-api/0.11.5/jjwt-api-0.11.5.jar:/home/base/.m2/repository/io/jsonwebtoken/jjwt-impl/0.11.5/jjwt-impl-0.11.5.jar:/home/base/.m2/repository/io/jsonwebtoken/jjwt-jackson/0.11.5/jjwt-jackson-0.11.5.jar:/home/base/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.15.3/jackson-databind-2.15.3.jar:/home/base/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.15.3/jackson-annotations-2.15.3.jar:/home/base/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.15.3/jackson-core-2.15.3.jar:/home/base/.m2/repository/org/springdoc/springdoc-openapi-starter-webmvc-ui/2.2.0/springdoc-openapi-starter-webmvc-ui-2.2.0.jar:/home/base/.m2/repository/org/springdoc/springdoc-openapi-starter-webmvc-api/2.2.0/springdoc-openapi-starter-webmvc-api-2.2.0.jar:/home/base/.m2/repository/org/springdoc/springdoc-openapi-starter-common/2.2.0/springdoc-openapi-starter-common-2.2.0.jar:/home/base/.m2/repository/io/swagger/core/v3/swagger-core-jakarta/2.2.15/swagger-core-jakarta-2.2.15.jar:/home/base/.m2/repository/org/apache/commons/commons-lang3/3.13.0/commons-lang3-3.13.0.jar:/home/base/.m2/repository/io/swagger/core/v3/swagger-annotations-jakarta/2.2.15/swagger-annotations-jakarta-2.2.15.jar:/home/base/.m2/repository/io/swagger/core/v3/swagger-models-jakarta/2.2.15/swagger-models-jakarta-2.2.15.jar:/home/base/.m2/repository/com/fasterxml/jackson/dataformat/jackson-dataformat-yaml/2.15.3/jackson-dataformat-yaml-2.15.3.jar:/home/base/.m2/repository/org/webjars/swagger-ui/5.2.0/swagger-ui-5.2.0.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-starter-test/3.2.0/spring-boot-starter-test-3.2.0.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-test/3.2.0/spring-boot-test-3.2.0.jar:/home/base/.m2/repository/org/springframework/boot/spring-boot-test-autoconfigure/3.2.0/spring-boot-test-autoconfigure-3.2.0.jar:/home/base/.m2/repository/com/jayway/jsonpath/json-path/2.8.0/json-path-2.8.0.jar:/home/base/.m2/repository/jakarta/xml/bind/jakarta.xml.bind-api/4.0.1/jakarta.xml.bind-api-4.0.1.jar:/home/base/.m2/repository/net/minidev/json-smart/2.5.0/json-smart-2.5.0.jar:/home/base/.m2/repository/net/minidev/accessors-smart/2.5.0/accessors-smart-2.5.0.jar:/home/base/.m2/repository/org/ow2/asm/asm/9.3/asm-9.3.jar:/home/base/.m2/repository/org/assertj/assertj-core/3.24.2/assertj-core-3.24.2.jar:/home/base/.m2/repository/org/awaitility/awaitility/4.2.0/awaitility-4.2.0.jar:/home/base/.m2/repository/org/hamcrest/hamcrest/2.2/hamcrest-2.2.jar:/home/base/.m2/repository/org/junit/jupiter/junit-jupiter/5.10.1/junit-jupiter-5.10.1.jar:/home/base/.m2/repository/org/junit/jupiter/junit-jupiter-api/5.10.1/junit-jupiter-api-5.10.1.jar:/home/base/.m2/repository/org/opentest4j/opentest4j/1.3.0/opentest4j-1.3.0.jar:/home/base/.m2/repository/org/junit/platform/junit-platform-commons/1.10.1/junit-platform-commons-1.10.1.jar:/home/base/.m2/repository/org/apiguardian/apiguardian-api/1.1.2/apiguardian-api-1.1.2.jar:/home/base/.m2/repository/org/junit/jupiter/junit-jupiter-params/5.10.1/junit-jupiter-params-5.10.1.jar:/home/base/.m2/repository/org/junit/jupiter/junit-jupiter-engine/5.10.1/junit-jupiter-engine-5.10.1.jar:/home/base/.m2/repository/org/junit/platform/junit-platform-engine/1.10.1/junit-platform-engine-1.10.1.jar:/home/base/.m2/repository/org/mockito/mockito-core/5.7.0/mockito-core-5.7.0.jar:/home/base/.m2/repository/net/bytebuddy/byte-buddy-agent/1.14.10/byte-buddy-agent-1.14.10.jar:/home/base/.m2/repository/org/objenesis/objenesis/3.3/objenesis-3.3.jar:/home/base/.m2/repository/org/mockito/mockito-junit-jupiter/5.7.0/mockito-junit-jupiter-5.7.0.jar:/home/base/.m2/repository/org/skyscreamer/jsonassert/1.5.1/jsonassert-1.5.1.jar:/home/base/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar:/home/base/.m2/repository/org/springframework/spring-core/6.1.1/spring-core-6.1.1.jar:/home/base/.m2/repository/org/springframework/spring-jcl/6.1.1/spring-jcl-6.1.1.jar:/home/base/.m2/repository/org/springframework/spring-test/6.1.1/spring-test-6.1.1.jar:/home/base/.m2/repository/org/xmlunit/xmlunit-core/2.9.1/xmlunit-core-2.9.1.jar:/home/base/.m2/repository/org/springframework/security/spring-security-test/6.2.0/spring-security-test-6.2.0.jar:/home/base/.m2/repository/org/springframework/security/spring-security-core/6.2.0/spring-security-core-6.2.0.jar:/home/base/.m2/repository/org/springframework/security/spring-security-crypto/6.2.0/spring-security-crypto-6.2.0.jar:/home/base/.m2/repository/com/h2database/h2/2.2.224/h2-2.2.224.jar:"/>
    <property name="sun.cpu.endian" value="little"/>
    <property name="user.home" value="/home/base"/>
    <property name="user.language" value="pt"/>
    <property name="java.specification.vendor" value="Oracle Corporation"/>
    <property name="java.version.date" value="2025-04-15"/>
    <property name="java.home" value="/home/base/.sdkman/candidates/java/21.0.7-tem"/>
    <property name="file.separator" value="/"/>
    <property name="basedir" value="/home/base/Documentos/desenvolvimento/claude-estudo/first-project"/>
    <property name="java.vm.compressedOopsMode" value="Zero based"/>
    <property name="line.separator" value="&#10;"/>
    <property name="java.vm.specification.vendor" value="Oracle Corporation"/>
    <property name="java.specification.name" value="Java Platform API Specification"/>
    <property name="FILE_LOG_CHARSET" value="UTF-8"/>
    <property name="java.awt.headless" value="true"/>
    <property name="mockito.verboseLogging" value="false"/>
    <property name="surefire.real.class.path" value="/home/base/Documentos/desenvolvimento/claude-estudo/first-project/target/surefire/surefirebooter-20250804012212641_3.jar"/>
    <property name="org.slf4j.simpleLogger.log.org.springframework.test" value="error"/>
    <property name="sun.management.compiler" value="HotSpot 64-Bit Tiered Compilers"/>
    <property name="jdk.instrument.traceUsage" value="false"/>
    <property name="java.runtime.version" value="21.0.7+6-LTS"/>
    <property name="LOG_CORRELATION_PATTERN" value="%correlationId"/>
    <property name="user.name" value="base"/>
    <property name="stdout.encoding" value="UTF-8"/>
    <property name="path.separator" value=":"/>
    <property name="os.version" value="6.14.0-27-generic"/>
    <property name="java.runtime.name" value="OpenJDK Runtime Environment"/>
    <property name="file.encoding" value="UTF-8"/>
    <property name="java.vm.name" value="OpenJDK 64-Bit Server VM"/>
    <property name="java.vendor.version" value="Temurin-21.0.7+6"/>
    <property name="localRepository" value="/home/base/.m2/repository"/>
    <property name="java.vendor.url.bug" value="https://github.com/adoptium/adoptium-support/issues"/>
    <property name="java.io.tmpdir" value="/tmp"/>
    <property name="com.zaxxer.hikari.pool_number" value="1"/>
    <property name="catalina.home" value="/tmp/tomcat.0.3412531797797285308"/>
    <property name="java.version" value="21.0.7"/>
    <property name="user.dir" value="/home/base/Documentos/desenvolvimento/claude-estudo/first-project"/>
    <property name="os.arch" value="amd64"/>
    <property name="java.vm.specification.name" value="Java Virtual Machine Specification"/>
    <property name="PID" value="2214428"/>
    <property name="org.slf4j.simpleLogger.defaultLogLevel" value="warn"/>
    <property name="CONSOLE_LOG_CHARSET" value="UTF-8"/>
    <property name="catalina.base" value="/tmp/tomcat.0.3412531797797285308"/>
    <property name="native.encoding" value="UTF-8"/>
    <property name="java.library.path" value="/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib"/>
    <property name="java.vm.info" value="mixed mode"/>
    <property name="stderr.encoding" value="UTF-8"/>
    <property name="java.vendor" value="Eclipse Adoptium"/>
    <property name="java.vm.version" value="21.0.7+6-LTS"/>
    <property name="sun.io.unicode.encoding" value="UnicodeLittle"/>
    <property name="java.class.version" value="65.0"/>
    <property name="LOGGED_APPLICATION_NAME" value="[blog-api] "/>
  </properties>
  <testcase name="refreshToken_ShouldFailWithInvalidToken" classname="com.blog.api.controller.AuthControllerIntegrationTest" time="0.089">
    <failure message="Status expected:&lt;401&gt; but was:&lt;403&gt;" type="java.lang.AssertionError"><![CDATA[java.lang.AssertionError: Status expected:<401> but was:<403>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:637)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.blog.api.controller.AuthControllerIntegrationTest.refreshToken_ShouldFailWithInvalidToken(AuthControllerIntegrationTest.java:173)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
]]></failure>
    <system-out><![CDATA[2025-08-04T01:22:36.307-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.blog.api.controller.AuthControllerIntegrationTest]: AuthControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-08-04T01:22:36.313-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.blog.api.BlogApiApplication for test class com.blog.api.controller.AuthControllerIntegrationTest

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-08-04T01:22:36.400-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] c.b.a.c.AuthControllerIntegrationTest    : Starting AuthControllerIntegrationTest using Java 21.0.7 with PID 2214428 (started by base in /home/base/Documentos/desenvolvimento/claude-estudo/first-project)
2025-08-04T01:22:36.400-03:00 DEBUG 2214428 --- [blog-api] [           main] [                                                 ] c.b.a.c.AuthControllerIntegrationTest    : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-04T01:22:36.400-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] c.b.a.c.AuthControllerIntegrationTest    : No active profile set, falling back to 1 default profile: "default"
2025-08-04T01:22:37.133-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-04T01:22:37.134-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-04T01:22:37.160-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 10 JPA repository interfaces.
2025-08-04T01:22:37.165-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-04T01:22:37.165-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-04T01:22:37.171-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.blog.api.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-04T01:22:37.172-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.blog.api.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-04T01:22:37.172-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.blog.api.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-04T01:22:37.172-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.blog.api.repository.PostRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-04T01:22:37.172-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.blog.api.repository.RefreshTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-04T01:22:37.172-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.blog.api.repository.RevokedTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-04T01:22:37.172-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.blog.api.repository.TermsAcceptanceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-04T01:22:37.172-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.blog.api.repository.TwoFactorAuthRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-04T01:22:37.172-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.blog.api.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-04T01:22:37.172-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.blog.api.repository.VerificationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-04T01:22:37.173-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-08-04T01:22:37.259-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2025-08-04T01:22:37.747-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2025-08-04T01:22:37.759-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-04T01:22:37.759-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-04T01:22:37.823-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-04T01:22:37.823-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1421 ms
2025-08-04T01:22:38.293-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:60dad068-4e47-4544-8918-851a86974687;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2025-08-04T01:22:38.372-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-04T01:22:38.375-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-04T01:22:38.379-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-04T01:22:38.381-03:00  WARN 2214428 --- [blog-api] [           main] [                                                 ] org.hibernate.dialect.Dialect            : HHH000511: The 2.2.0 version for [org.hibernate.dialect.PostgreSQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 11.0.0. Check the community dialects project for available legacy versions.
2025-08-04T01:22:38.381-03:00  WARN 2214428 --- [blog-api] [           main] [                                                 ] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-04T01:22:38.606-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
Hibernate: 
    alter table if exists comments 
       drop constraint if exists FKlri30okf66phtcgbe5pok7cc0
Hibernate: 
    alter table if exists comments 
       drop constraint if exists FKh4c7lvsc298whoyd4w9ta25cr
Hibernate: 
    alter table if exists comments 
       drop constraint if exists FK8omq0tc18jd43bu5tjh6jvraq
Hibernate: 
    alter table if exists posts 
       drop constraint if exists FKijnwr3brs8vaosl80jg9rp7uc
Hibernate: 
    alter table if exists posts 
       drop constraint if exists FK5lidm6cqbc7u4xhqpxm898qme
Hibernate: 
    alter table if exists terms_acceptance 
       drop constraint if exists FK1r5ej7gned9fbpexbgiglhkf1
Hibernate: 
    alter table if exists verification_tokens 
       drop constraint if exists FK54y8mqsnq1rtyf581sfmrbp4f
Hibernate: 
    drop table if exists audit_logs cascade
Hibernate: 
    drop table if exists categories cascade
Hibernate: 
    drop table if exists comments cascade
Hibernate: 
    drop table if exists posts cascade
Hibernate: 
    drop table if exists refresh_tokens cascade
Hibernate: 
    drop table if exists revoked_tokens cascade
Hibernate: 
    drop table if exists terms_acceptance cascade
Hibernate: 
    drop table if exists two_factor_auth cascade
Hibernate: 
    drop table if exists users cascade
Hibernate: 
    drop table if exists verification_tokens cascade
Hibernate: 
    create table audit_logs (
        id bigserial not null,
        resource_id bigint,
        timestamp timestamp(6) not null,
        user_id bigint,
        result varchar(20) not null check (result in ('SUCCESS','FAILURE','BLOCKED','ERROR')),
        ip_address varchar(45),
        action varchar(50) not null check (action in ('LOGIN','LOGOUT','LOGOUT_ALL_DEVICES','REGISTER','PASSWORD_RESET_REQUEST','PASSWORD_RESET_CONFIRM','EMAIL_VERIFICATION','TOKEN_REFRESH','TOKEN_REVOKE','USER_CREATE','USER_UPDATE','USER_DELETE','POST_CREATE','POST_UPDATE','POST_DELETE','COMMENT_CREATE','COMMENT_UPDATE','COMMENT_DELETE','CATEGORY_CREATE','CATEGORY_UPDATE','CATEGORY_DELETE','ADMIN_ACCESS','PERMISSION_CHANGE','SECURITY_VIOLATION','RATE_LIMIT_EXCEEDED')),
        resource_type varchar(50),
        username varchar(100),
        user_agent varchar(500),
        error_message varchar(1000),
        details TEXT,
        primary key (id)
    )
Hibernate: 
    create table categories (
        id bigserial not null,
        description varchar(255),
        name varchar(255) unique,
        primary key (id)
    )
Hibernate: 
    create table comments (
        created_at timestamp(6),
        id bigserial not null,
        parent_id bigint,
        post_id bigint not null,
        user_id bigint not null,
        content TEXT,
        primary key (id)
    )
Hibernate: 
    create table posts (
        published boolean not null,
        category_id bigint,
        created_at timestamp(6),
        id bigserial not null,
        updated_at timestamp(6),
        user_id bigint not null,
        content TEXT,
        title varchar(255),
        primary key (id)
    )
Hibernate: 
    create table refresh_tokens (
        revoked boolean,
        created_at timestamp(6),
        expires_at timestamp(6) not null,
        id bigserial not null,
        last_used timestamp(6),
        revoked_at timestamp(6),
        user_id bigint not null,
        ip_address varchar(45),
        device_info varchar(500),
        token varchar(255) not null unique,
        primary key (id)
    )
Hibernate: 
    create table revoked_tokens (
        created_at timestamp(6) not null,
        expires_at timestamp(6) not null,
        id bigserial not null,
        revoked_at timestamp(6) not null,
        user_id bigint,
        reason varchar(20) check (reason in ('LOGOUT','ADMIN_REVOKE','PASSWORD_CHANGE','ACCOUNT_LOCKED','SECURITY_BREACH')),
        token_jti varchar(36) not null unique,
        primary key (id)
    )
Hibernate: 
    create table terms_acceptance (
        accepted_at timestamp(6) not null,
        id bigserial not null,
        user_id bigint not null,
        ip_address varchar(255),
        terms_version varchar(255) not null,
        user_agent TEXT,
        primary key (id)
    )
Hibernate: 
    create table two_factor_auth (
        enabled boolean not null,
        created_at timestamp(6) not null,
        enabled_at timestamp(6),
        id bigserial not null,
        last_backup_code_used timestamp(6),
        last_used timestamp(6),
        user_id bigint not null unique,
        secret_key varchar(100) not null,
        backup_codes TEXT,
        backup_codes_used TEXT,
        primary key (id)
    )
Hibernate: 
    create table users (
        account_locked boolean,
        email_verified boolean,
        failed_login_attempts integer,
        created_at timestamp(6),
        email_verified_at timestamp(6),
        id bigserial not null,
        last_login timestamp(6),
        locked_until timestamp(6),
        password_changed_at timestamp(6),
        email varchar(255) unique,
        password varchar(255),
        role varchar(255) check (role in ('USER','AUTHOR','ADMIN')),
        terms_accepted_version varchar(255),
        username varchar(255) unique,
        primary key (id)
    )
Hibernate: 
    create table verification_tokens (
        created_at timestamp(6),
        expires_at timestamp(6) not null,
        id bigserial not null,
        used_at timestamp(6),
        user_id bigint not null,
        token varchar(255) not null unique,
        token_type varchar(255) not null check (token_type in ('EMAIL_VERIFICATION','PASSWORD_RESET','PHONE_VERIFICATION')),
        primary key (id)
    )
Hibernate: 
    create index idx_audit_logs_user_timestamp 
       on audit_logs (user_id, timestamp desc)
Hibernate: 
    create index idx_audit_logs_action_timestamp 
       on audit_logs (action, timestamp desc)
Hibernate: 
    create index idx_audit_logs_timestamp 
       on audit_logs (timestamp desc)
Hibernate: 
    create index idx_audit_logs_ip_timestamp 
       on audit_logs (ip_address, timestamp desc)
Hibernate: 
    create index idx_2fa_backup_codes_user 
       on two_factor_auth (user_id)
Hibernate: 
    alter table if exists comments 
       add constraint FKlri30okf66phtcgbe5pok7cc0 
       foreign key (parent_id) 
       references comments
Hibernate: 
    alter table if exists comments 
       add constraint FKh4c7lvsc298whoyd4w9ta25cr 
       foreign key (post_id) 
       references posts
Hibernate: 
    alter table if exists comments 
       add constraint FK8omq0tc18jd43bu5tjh6jvraq 
       foreign key (user_id) 
       references users
Hibernate: 
    alter table if exists posts 
       add constraint FKijnwr3brs8vaosl80jg9rp7uc 
       foreign key (category_id) 
       references categories
Hibernate: 
    alter table if exists posts 
       add constraint FK5lidm6cqbc7u4xhqpxm898qme 
       foreign key (user_id) 
       references users
Hibernate: 
    alter table if exists terms_acceptance 
       add constraint FK1r5ej7gned9fbpexbgiglhkf1 
       foreign key (user_id) 
       references users
Hibernate: 
    alter table if exists verification_tokens 
       add constraint FK54y8mqsnq1rtyf581sfmrbp4f 
       foreign key (user_id) 
       references users
2025-08-04T01:22:38.639-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-04T01:22:39.223-03:00 DEBUG 2214428 --- [blog-api] [           main] [                                                 ] c.b.api.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-08-04T01:22:39.223-03:00 DEBUG 2214428 --- [blog-api] [           main] [                                                 ] c.blog.api.config.TermsComplianceFilter  : Filter 'termsComplianceFilter' configured for use
2025-08-04T01:22:40.216-03:00  WARN 2214428 --- [blog-api] [           main] [                                                 ] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-04T01:22:40.600-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 5 endpoint(s) beneath base path '/actuator'
2025-08-04T01:22:40.662-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@76486f75, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7baa5cea, org.springframework.security.web.context.SecurityContextHolderFilter@7281da45, org.springframework.security.web.header.HeaderWriterFilter@1f949dcc, org.springframework.web.filter.CorsFilter@622691e3, org.springframework.security.web.authentication.logout.LogoutFilter@18065201, com.blog.api.config.JwtAuthenticationFilter@6b6e693c, com.blog.api.config.TermsComplianceFilter@47e5cad0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1aa70166, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9fd6b81, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41de3970, org.springframework.security.web.session.SessionManagementFilter@5041a450, org.springframework.security.web.access.ExceptionTranslationFilter@57a7d29c, org.springframework.security.web.access.intercept.AuthorizationFilter@6bd09ea0]
2025-08-04T01:22:41.372-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 44575 (http) with context path ''
2025-08-04T01:22:41.387-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] c.b.a.c.AuthControllerIntegrationTest    : Started AuthControllerIntegrationTest in 5.068 seconds (process running for 28.673)
Hibernate: 
    select
        count(rt1_0.id) 
    from
        revoked_tokens rt1_0 
    where
        rt1_0.expires_at>?
Hibernate: 
    delete 
    from
        verification_tokens 
    where
        expires_at<? 
        and used_at is null
2025-08-04T01:22:41.409-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2025-08-04T01:22:41.409-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
Hibernate: 
    delete 
    from
        verification_tokens 
    where
        used_at is not null 
        and used_at<?
2025-08-04T01:22:41.413-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 4 ms
2025-08-04T01:22:41.419-03:00 DEBUG 2214428 --- [blog-api] [           main] [                                                 ] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/auth/refresh
Hibernate: 
    select
        count(rt1_0.id) 
    from
        refresh_tokens rt1_0 
    where
        rt1_0.revoked=false 
        and rt1_0.expires_at>localtimestamp
2025-08-04T01:22:41.434-03:00  WARN 2214428 --- [blog-api] [           main] [689035919997a412b462d519a8d367c0-b462d519a8d367c0] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/v1/auth/refresh' (previous null). Performing CorsConfiguration lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-04T01:22:41.444-03:00 DEBUG 2214428 --- [blog-api] [           main] [689035919997a412b462d519a8d367c0-b462d519a8d367c0] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-08-04T01:22:41.448-03:00  WARN 2214428 --- [blog-api] [           main] [689035919997a412b462d519a8d367c0-559312a9b73eccde] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/v1/auth/refresh' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-04T01:22:41.476-03:00 DEBUG 2214428 --- [blog-api] [           main] [689035919997a412b462d519a8d367c0-b462d519a8d367c0] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
]]></system-out>
  </testcase>
  <testcase name="register_ShouldFailWithDuplicateEmail" classname="com.blog.api.controller.AuthControllerIntegrationTest" time="0.298">
    <system-out><![CDATA[2025-08-04T01:22:41.487-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2025-08-04T01:22:41.487-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-08-04T01:22:41.491-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 4 ms
2025-08-04T01:22:41.493-03:00 DEBUG 2214428 --- [blog-api] [           main] [                                                 ] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/auth/register
2025-08-04T01:22:41.496-03:00 DEBUG 2214428 --- [blog-api] [           main] [689035919199e79f2a4f6175ff09ce2e-2a4f6175ff09ce2e] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-08-04T01:22:41.500-03:00 DEBUG 2214428 --- [blog-api] [           main] [689035919199e79f2a4f6175ff09ce2e-ce344fe455347b9f] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/auth/register
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
Hibernate: 
    insert 
    into
        users
        (account_locked, created_at, email, email_verified, email_verified_at, failed_login_attempts, last_login, locked_until, password, password_changed_at, role, terms_accepted_version, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-04T01:22:41.733-03:00  INFO 2214428 --- [blog-api] [           main] [689035919199e79f2a4f6175ff09ce2e-ce344fe455347b9f] .s.a.AnnotationAsyncExecutionInterceptor : More than one TaskExecutor bean found within the context, and none is named 'taskExecutor'. Mark one of them as primary or name it 'taskExecutor' (possibly as an alias) in order to use it for async processing: [emailTaskExecutor, tokenCleanupExecutor, taskScheduler]
Hibernate: 
    insert 
    into
        audit_logs
        (action, details, error_message, ip_address, resource_id, resource_type, result, timestamp, user_agent, user_id, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-04T01:22:41.754-03:00 DEBUG 2214428 --- [blog-api] [cTaskExecutor-1] [                                                 ] com.blog.api.service.AuditLogService     : Audit log created: action=REGISTER, result=SUCCESS, userId=1, ip=127.0.0.1
2025-08-04T01:22:41.757-03:00 DEBUG 2214428 --- [blog-api] [           main] [                                                 ] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/auth/register
2025-08-04T01:22:41.761-03:00 DEBUG 2214428 --- [blog-api] [           main] [689035912acaebe13cf2410328378335-3cf2410328378335] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-08-04T01:22:41.764-03:00 DEBUG 2214428 --- [blog-api] [           main] [689035912acaebe13cf2410328378335-5f5ff9350387fbe4] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/auth/register
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
]]></system-out>
  </testcase>
  <testcase name="register_ShouldFailWithWeakPassword" classname="com.blog.api.controller.AuthControllerIntegrationTest" time="0.009">
    <error message="Password policy violation: Password must be at least 8 characters long; Password must contain at least one uppercase letter; Password must contain at least one digit; Password must contain at least one special character (!@#$%^&amp;*()_+-=[]{}|;:,.&lt;&gt;?)" type="java.lang.IllegalArgumentException"><![CDATA[java.lang.IllegalArgumentException: Password policy violation: Password must be at least 8 characters long; Password must contain at least one uppercase letter; Password must contain at least one digit; Password must contain at least one special character (!@#$%^&*()_+-=[]{}|;:,.<>?)
	at com.blog.api.dto.CreateUserDTO.<init>(CreateUserDTO.java:30)
	at com.blog.api.controller.AuthControllerIntegrationTest.register_ShouldFailWithWeakPassword(AuthControllerIntegrationTest.java:214)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
]]></error>
    <system-out><![CDATA[2025-08-04T01:22:41.787-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2025-08-04T01:22:41.787-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-08-04T01:22:41.789-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
]]></system-out>
  </testcase>
  <testcase name="login_ShouldReturnJwtWithRefreshToken_AndLogAuditEvent" classname="com.blog.api.controller.AuthControllerIntegrationTest" time="0.454">
    <system-out><![CDATA[2025-08-04T01:22:41.796-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2025-08-04T01:22:41.796-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-08-04T01:22:41.798-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-08-04T01:22:41.799-03:00 DEBUG 2214428 --- [blog-api] [           main] [                                                 ] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/auth/register
2025-08-04T01:22:41.800-03:00 DEBUG 2214428 --- [blog-api] [           main] [689035916eb2cc2995b8236b9bc99838-95b8236b9bc99838] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-08-04T01:22:41.801-03:00 DEBUG 2214428 --- [blog-api] [           main] [689035916eb2cc2995b8236b9bc99838-7d9945855f942e64] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/auth/register
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
Hibernate: 
    insert 
    into
        users
        (account_locked, created_at, email, email_verified, email_verified_at, failed_login_attempts, last_login, locked_until, password, password_changed_at, role, terms_accepted_version, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        audit_logs
        (action, details, error_message, ip_address, resource_id, resource_type, result, timestamp, user_agent, user_id, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-04T01:22:41.917-03:00 DEBUG 2214428 --- [blog-api] [           main] [                                                 ] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/auth/login
2025-08-04T01:22:41.919-03:00 DEBUG 2214428 --- [blog-api] [           main] [68903591ec44b866bb672c78b100cae0-bb672c78b100cae0] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-08-04T01:22:41.919-03:00 DEBUG 2214428 --- [blog-api] [cTaskExecutor-2] [                                                 ] com.blog.api.service.AuditLogService     : Audit log created: action=REGISTER, result=SUCCESS, userId=2, ip=127.0.0.1
2025-08-04T01:22:41.920-03:00 DEBUG 2214428 --- [blog-api] [           main] [68903591ec44b866bb672c78b100cae0-2a18a45529d28f78] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/auth/login
Hibernate: 
    select
        u1_0.id,
        u1_0.account_locked,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.email_verified_at,
        u1_0.failed_login_attempts,
        u1_0.last_login,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.role,
        u1_0.terms_accepted_version,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    select
        u1_0.id,
        u1_0.account_locked,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.email_verified_at,
        u1_0.failed_login_attempts,
        u1_0.last_login,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.role,
        u1_0.terms_accepted_version,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-04T01:22:42.168-03:00 DEBUG 2214428 --- [blog-api] [           main] [68903591ec44b866bb672c78b100cae0-2a18a45529d28f78] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
Hibernate: 
    select
        u1_0.id,
        u1_0.account_locked,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.email_verified_at,
        u1_0.failed_login_attempts,
        u1_0.last_login,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.role,
        u1_0.terms_accepted_version,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        case 
            when count(rt1_0.id)>=? 
                then true 
            else false 
        end 
    from
        refresh_tokens rt1_0 
    where
        rt1_0.user_id=? 
        and rt1_0.created_at>?
Hibernate: 
    select
        count(rt1_0.id) 
    from
        refresh_tokens rt1_0 
    where
        rt1_0.user_id=? 
        and rt1_0.revoked=false 
        and rt1_0.expires_at>localtimestamp
Hibernate: 
    insert 
    into
        refresh_tokens
        (created_at, device_info, expires_at, ip_address, last_used, revoked, revoked_at, token, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-04T01:22:42.191-03:00  INFO 2214428 --- [blog-api] [           main] [68903591ec44b866bb672c78b100cae0-2a18a45529d28f78] c.blog.api.service.RefreshTokenService   : Created refresh token for user: 2, expires: 2025-09-03T01:22:42.186087866
Hibernate: 
    insert 
    into
        audit_logs
        (action, details, error_message, ip_address, resource_id, resource_type, result, timestamp, user_agent, user_id, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-04T01:22:42.195-03:00 DEBUG 2214428 --- [blog-api] [cTaskExecutor-3] [                                                 ] com.blog.api.service.AuditLogService     : Audit log created: action=LOGIN, result=SUCCESS, userId=2, ip=127.0.0.1
]]></system-out>
  </testcase>
  <testcase name="register_ShouldCreateUser_AndLogAuditEvent" classname="com.blog.api.controller.AuthControllerIntegrationTest" time="0.133">
    <system-out><![CDATA[2025-08-04T01:22:42.252-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2025-08-04T01:22:42.252-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-08-04T01:22:42.255-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-08-04T01:22:42.256-03:00 DEBUG 2214428 --- [blog-api] [           main] [                                                 ] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/auth/register
2025-08-04T01:22:42.257-03:00 DEBUG 2214428 --- [blog-api] [           main] [68903592ff93dc414c8062387dd9591d-4c8062387dd9591d] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-08-04T01:22:42.258-03:00 DEBUG 2214428 --- [blog-api] [           main] [68903592ff93dc414c8062387dd9591d-70b8efce238ada88] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/auth/register
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
Hibernate: 
    insert 
    into
        users
        (account_locked, created_at, email, email_verified, email_verified_at, failed_login_attempts, last_login, locked_until, password, password_changed_at, role, terms_accepted_version, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        audit_logs
        (action, details, error_message, ip_address, resource_id, resource_type, result, timestamp, user_agent, user_id, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    select
        u1_0.id,
        u1_0.account_locked,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.email_verified_at,
        u1_0.failed_login_attempts,
        u1_0.last_login,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.role,
        u1_0.terms_accepted_version,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-04T01:22:42.379-03:00 DEBUG 2214428 --- [blog-api] [cTaskExecutor-4] [                                                 ] com.blog.api.service.AuditLogService     : Audit log created: action=REGISTER, result=SUCCESS, userId=3, ip=127.0.0.1
]]></system-out>
  </testcase>
  <testcase name="login_ShouldFailWithInvalidCredentials_AndLogAuditEvent" classname="com.blog.api.controller.AuthControllerIntegrationTest" time="0.03">
    <system-out><![CDATA[2025-08-04T01:22:42.385-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2025-08-04T01:22:42.386-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-08-04T01:22:42.388-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-08-04T01:22:42.389-03:00 DEBUG 2214428 --- [blog-api] [           main] [                                                 ] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/auth/login
2025-08-04T01:22:42.393-03:00 DEBUG 2214428 --- [blog-api] [           main] [689035927bb79758d55e699ae0d028f8-d55e699ae0d028f8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-08-04T01:22:42.395-03:00 DEBUG 2214428 --- [blog-api] [           main] [689035927bb79758d55e699ae0d028f8-6614594ba4ed5c96] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/auth/login
Hibernate: 
    select
        u1_0.id,
        u1_0.account_locked,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.email_verified_at,
        u1_0.failed_login_attempts,
        u1_0.last_login,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.role,
        u1_0.terms_accepted_version,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    select
        u1_0.id,
        u1_0.account_locked,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.email_verified_at,
        u1_0.failed_login_attempts,
        u1_0.last_login,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.role,
        u1_0.terms_accepted_version,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.email=?
]]></system-out>
  </testcase>
  <testcase name="revokeRefreshToken_ShouldSucceed_WhenValidToken" classname="com.blog.api.controller.AuthControllerIntegrationTest" time="0.23">
    <failure message="Status expected:&lt;200&gt; but was:&lt;403&gt;" type="java.lang.AssertionError"><![CDATA[java.lang.AssertionError: Status expected:<200> but was:<403>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:637)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.blog.api.controller.AuthControllerIntegrationTest.revokeRefreshToken_ShouldSucceed_WhenValidToken(AuthControllerIntegrationTest.java:206)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
]]></failure>
    <system-out><![CDATA[2025-08-04T01:22:42.416-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2025-08-04T01:22:42.416-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-08-04T01:22:42.419-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 3 ms
2025-08-04T01:22:42.420-03:00 DEBUG 2214428 --- [blog-api] [           main] [                                                 ] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/auth/register
2025-08-04T01:22:42.421-03:00 DEBUG 2214428 --- [blog-api] [           main] [689035926d70831c61b65d77b042f0f9-61b65d77b042f0f9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-08-04T01:22:42.423-03:00 DEBUG 2214428 --- [blog-api] [           main] [689035926d70831c61b65d77b042f0f9-0c433aee43278b0d] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/auth/register
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
Hibernate: 
    insert 
    into
        users
        (account_locked, created_at, email, email_verified, email_verified_at, failed_login_attempts, last_login, locked_until, password, password_changed_at, role, terms_accepted_version, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        audit_logs
        (action, details, error_message, ip_address, resource_id, resource_type, result, timestamp, user_agent, user_id, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-04T01:22:42.521-03:00 DEBUG 2214428 --- [blog-api] [           main] [                                                 ] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/auth/login
2025-08-04T01:22:42.521-03:00 DEBUG 2214428 --- [blog-api] [cTaskExecutor-5] [                                                 ] com.blog.api.service.AuditLogService     : Audit log created: action=REGISTER, result=SUCCESS, userId=4, ip=127.0.0.1
2025-08-04T01:22:42.522-03:00 DEBUG 2214428 --- [blog-api] [           main] [68903592499a608574f581b9414d63c8-74f581b9414d63c8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-08-04T01:22:42.524-03:00 DEBUG 2214428 --- [blog-api] [           main] [68903592499a608574f581b9414d63c8-d8f898ab9d27e036] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/auth/login
Hibernate: 
    select
        u1_0.id,
        u1_0.account_locked,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.email_verified_at,
        u1_0.failed_login_attempts,
        u1_0.last_login,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.role,
        u1_0.terms_accepted_version,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    select
        u1_0.id,
        u1_0.account_locked,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.email_verified_at,
        u1_0.failed_login_attempts,
        u1_0.last_login,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.role,
        u1_0.terms_accepted_version,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-04T01:22:42.615-03:00 DEBUG 2214428 --- [blog-api] [           main] [68903592499a608574f581b9414d63c8-d8f898ab9d27e036] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
Hibernate: 
    select
        u1_0.id,
        u1_0.account_locked,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.email_verified_at,
        u1_0.failed_login_attempts,
        u1_0.last_login,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.role,
        u1_0.terms_accepted_version,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        case 
            when count(rt1_0.id)>=? 
                then true 
            else false 
        end 
    from
        refresh_tokens rt1_0 
    where
        rt1_0.user_id=? 
        and rt1_0.created_at>?
Hibernate: 
    select
        count(rt1_0.id) 
    from
        refresh_tokens rt1_0 
    where
        rt1_0.user_id=? 
        and rt1_0.revoked=false 
        and rt1_0.expires_at>localtimestamp
Hibernate: 
    insert 
    into
        refresh_tokens
        (created_at, device_info, expires_at, ip_address, last_used, revoked, revoked_at, token, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-04T01:22:42.625-03:00  INFO 2214428 --- [blog-api] [           main] [68903592499a608574f581b9414d63c8-d8f898ab9d27e036] c.blog.api.service.RefreshTokenService   : Created refresh token for user: 4, expires: 2025-09-03T01:22:42.623984149
Hibernate: 
    insert 
    into
        audit_logs
        (action, details, error_message, ip_address, resource_id, resource_type, result, timestamp, user_agent, user_id, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-04T01:22:42.629-03:00 DEBUG 2214428 --- [blog-api] [cTaskExecutor-6] [                                                 ] com.blog.api.service.AuditLogService     : Audit log created: action=LOGIN, result=SUCCESS, userId=4, ip=127.0.0.1
2025-08-04T01:22:42.632-03:00 DEBUG 2214428 --- [blog-api] [           main] [                                                 ] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/auth/revoke-refresh-token
2025-08-04T01:22:42.634-03:00 DEBUG 2214428 --- [blog-api] [           main] [68903592d2347e680b4a5c3c4854ccc8-0b4a5c3c4854ccc8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-08-04T01:22:42.638-03:00 DEBUG 2214428 --- [blog-api] [           main] [68903592d2347e680b4a5c3c4854ccc8-0b4a5c3c4854ccc8] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
]]></system-out>
  </testcase>
  <testcase name="refreshToken_ShouldReturnNewTokens_WhenValidRefreshToken" classname="com.blog.api.controller.AuthControllerIntegrationTest" time="0.268">
    <failure message="Status expected:&lt;200&gt; but was:&lt;403&gt;" type="java.lang.AssertionError"><![CDATA[java.lang.AssertionError: Status expected:<200> but was:<403>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:637)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.blog.api.controller.AuthControllerIntegrationTest.refreshToken_ShouldReturnNewTokens_WhenValidRefreshToken(AuthControllerIntegrationTest.java:158)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
]]></failure>
    <system-out><![CDATA[2025-08-04T01:22:42.647-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2025-08-04T01:22:42.647-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-08-04T01:22:42.649-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-08-04T01:22:42.651-03:00 DEBUG 2214428 --- [blog-api] [           main] [                                                 ] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/auth/register
2025-08-04T01:22:42.653-03:00 DEBUG 2214428 --- [blog-api] [           main] [689035924cebc23103f4da14b2cd8ab2-03f4da14b2cd8ab2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-08-04T01:22:42.654-03:00 DEBUG 2214428 --- [blog-api] [           main] [689035924cebc23103f4da14b2cd8ab2-df6f19922c186bbc] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/auth/register
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
Hibernate: 
    insert 
    into
        users
        (account_locked, created_at, email, email_verified, email_verified_at, failed_login_attempts, last_login, locked_until, password, password_changed_at, role, terms_accepted_version, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        audit_logs
        (action, details, error_message, ip_address, resource_id, resource_type, result, timestamp, user_agent, user_id, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-04T01:22:42.776-03:00 DEBUG 2214428 --- [blog-api] [           main] [                                                 ] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/auth/login
2025-08-04T01:22:42.778-03:00 DEBUG 2214428 --- [blog-api] [cTaskExecutor-7] [                                                 ] com.blog.api.service.AuditLogService     : Audit log created: action=REGISTER, result=SUCCESS, userId=5, ip=127.0.0.1
2025-08-04T01:22:42.778-03:00 DEBUG 2214428 --- [blog-api] [           main] [68903592fe60231791d9396187afafa5-91d9396187afafa5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-08-04T01:22:42.780-03:00 DEBUG 2214428 --- [blog-api] [           main] [68903592fe60231791d9396187afafa5-0bb702318930f034] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/auth/login
Hibernate: 
    select
        u1_0.id,
        u1_0.account_locked,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.email_verified_at,
        u1_0.failed_login_attempts,
        u1_0.last_login,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.role,
        u1_0.terms_accepted_version,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    select
        u1_0.id,
        u1_0.account_locked,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.email_verified_at,
        u1_0.failed_login_attempts,
        u1_0.last_login,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.role,
        u1_0.terms_accepted_version,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-04T01:22:42.887-03:00 DEBUG 2214428 --- [blog-api] [           main] [68903592fe60231791d9396187afafa5-0bb702318930f034] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
Hibernate: 
    select
        u1_0.id,
        u1_0.account_locked,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.email_verified_at,
        u1_0.failed_login_attempts,
        u1_0.last_login,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.role,
        u1_0.terms_accepted_version,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        case 
            when count(rt1_0.id)>=? 
                then true 
            else false 
        end 
    from
        refresh_tokens rt1_0 
    where
        rt1_0.user_id=? 
        and rt1_0.created_at>?
Hibernate: 
    select
        count(rt1_0.id) 
    from
        refresh_tokens rt1_0 
    where
        rt1_0.user_id=? 
        and rt1_0.revoked=false 
        and rt1_0.expires_at>localtimestamp
Hibernate: 
    insert 
    into
        refresh_tokens
        (created_at, device_info, expires_at, ip_address, last_used, revoked, revoked_at, token, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-04T01:22:42.898-03:00  INFO 2214428 --- [blog-api] [           main] [68903592fe60231791d9396187afafa5-0bb702318930f034] c.blog.api.service.RefreshTokenService   : Created refresh token for user: 5, expires: 2025-09-03T01:22:42.896504011
2025-08-04T01:22:42.900-03:00 DEBUG 2214428 --- [blog-api] [           main] [                                                 ] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/auth/refresh
Hibernate: 
    insert 
    into
        audit_logs
        (action, details, error_message, ip_address, resource_id, resource_type, result, timestamp, user_agent, user_id, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-04T01:22:42.903-03:00 DEBUG 2214428 --- [blog-api] [cTaskExecutor-8] [                                                 ] com.blog.api.service.AuditLogService     : Audit log created: action=LOGIN, result=SUCCESS, userId=5, ip=127.0.0.1
2025-08-04T01:22:42.904-03:00 DEBUG 2214428 --- [blog-api] [           main] [68903592a7380927fafdb827c55cc7f7-fafdb827c55cc7f7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-08-04T01:22:42.908-03:00 DEBUG 2214428 --- [blog-api] [           main] [68903592a7380927fafdb827c55cc7f7-fafdb827c55cc7f7] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
]]></system-out>
  </testcase>
  <testcase name="register_ShouldFailWithDuplicateUsername" classname="com.blog.api.controller.AuthControllerIntegrationTest" time="0.155">
    <system-out><![CDATA[2025-08-04T01:22:42.918-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring TestDispatcherServlet ''
2025-08-04T01:22:42.919-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-08-04T01:22:42.925-03:00  INFO 2214428 --- [blog-api] [           main] [                                                 ] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 6 ms
2025-08-04T01:22:42.926-03:00 DEBUG 2214428 --- [blog-api] [           main] [                                                 ] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/auth/register
2025-08-04T01:22:42.927-03:00 DEBUG 2214428 --- [blog-api] [           main] [68903592d4f23181fa3652c996d4f474-fa3652c996d4f474] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-08-04T01:22:42.928-03:00 DEBUG 2214428 --- [blog-api] [           main] [68903592d4f23181fa3652c996d4f474-67968080e353a787] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/auth/register
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
Hibernate: 
    insert 
    into
        users
        (account_locked, created_at, email, email_verified, email_verified_at, failed_login_attempts, last_login, locked_until, password, password_changed_at, role, terms_accepted_version, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    insert 
    into
        audit_logs
        (action, details, error_message, ip_address, resource_id, resource_type, result, timestamp, user_agent, user_id, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-04T01:22:43.057-03:00 DEBUG 2214428 --- [blog-api] [           main] [                                                 ] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/auth/register
2025-08-04T01:22:43.058-03:00 DEBUG 2214428 --- [blog-api] [           main] [68903593076a6174e91b5cda1c7b62ab-e91b5cda1c7b62ab] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-08-04T01:22:43.058-03:00 DEBUG 2214428 --- [blog-api] [cTaskExecutor-9] [                                                 ] com.blog.api.service.AuditLogService     : Audit log created: action=REGISTER, result=SUCCESS, userId=6, ip=127.0.0.1
2025-08-04T01:22:43.059-03:00 DEBUG 2214428 --- [blog-api] [           main] [68903593076a6174e91b5cda1c7b62ab-916ddecc20af49d2] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/auth/register
Hibernate: 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
]]></system-out>
  </testcase>
</testsuite>